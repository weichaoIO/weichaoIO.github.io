<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/my_icon.ico"><link rel="icon" href="/img/my_icon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="魏超"><meta name="keywords" content="魏超,weichao"><meta name="description" content="Reference  大话设计模式    设计模式串联    创建型  单例模式（Singleton）   保证一个类仅有一个实例，并提供一个访问它的全局访问点。 有个人自己开了一家餐厅，这家餐厅只有一个老板。  123456789101112131415161718192021222324&#x2F;&#x2F; InputMethodManager 用于控制显示或隐藏输入法面板public final clas"><meta property="og:type" content="article"><meta property="og:title" content="设计模式"><meta property="og:url" content="https://weichao.io/2cdd0c565e9c/index.html"><meta property="og:site_name" content="『魏超』的 blog"><meta property="og:description" content="Reference  大话设计模式    设计模式串联    创建型  单例模式（Singleton）   保证一个类仅有一个实例，并提供一个访问它的全局访问点。 有个人自己开了一家餐厅，这家餐厅只有一个老板。  123456789101112131415161718192021222324&#x2F;&#x2F; InputMethodManager 用于控制显示或隐藏输入法面板public final clas"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F1.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F2.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F3.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F4.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F5.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F6.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F7.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F8.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F9.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F10.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F11.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F12.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F13.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F14.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F15.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F16.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F17.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F18.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F19.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F20.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F21.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F22.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F23.png"><meta property="og:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F24.png"><meta property="article:published_time" content="2020-03-03T11:39:09.000Z"><meta property="article:modified_time" content="2022-12-04T06:04:05.247Z"><meta property="article:author" content="魏超"><meta property="article:tag" content="魏超,weichao"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F1.png"><title>设计模式 - 『魏超』的 blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_1956623_vyed6le6uz.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"weichao.io",root:"/",version:"1.9.3",typing:{enable:!1,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!1},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:2},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!0,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"kQcwfNV9f5OTEb51AgXNco4o-gzGzoHsz",app_key:"IVVmse4bqkjcVx2bEJiswbJc",server_url:"https://kqcwfnv9.lc-cn-n1-shared.com",path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.3.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>『魏超』的 blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-my-home"></i> 首页</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-my-document"></i> 文档</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/archives/"><i class="iconfont icon-my-archive"></i> 归档 </a><a class="dropdown-item" href="/categories/"><i class="iconfont icon-my-category"></i> 分类 </a><a class="dropdown-item" href="/tags/"><i class="iconfont icon-my-tag"></i> 标签</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-my-image"></i> 图库</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/photo/"><i class="iconfont icon-my-camera"></i> 摄影 </a><a class="dropdown-item" href="/skiing/"><i class="iconfont icon-my-skiing"></i> 滑雪 </a><a class="dropdown-item" href="/motor/"><i class="iconfont icon-my-motor"></i> 摩托车</a></div></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-my-me"></i> 关于</a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-my-link"></i> 友链</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/my_background.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle">设计模式</span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> 魏超 </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2020-03-03 19:39" pubdate>2020年3月3日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 21k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 174 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">设计模式</h1><p class="note note-info">本文最后更新于：7 天前</p><div class="markdown-body"><h1 id="reference"><a class="markdownIt-Anchor" href="#reference"></a> <strong>Reference</strong></h1><ul><li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/zhuxiansheng/tag/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="https://www.cnblogs.com/zhuxiansheng/tag/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">大话设计模式</a></li></ul><hr><h1 id="设计模式串联"><a class="markdownIt-Anchor" href="#设计模式串联"></a> <strong>设计模式串联</strong></h1><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F1.png" alt=""></p><hr><h1 id="创建型"><a class="markdownIt-Anchor" href="#创建型"></a> <strong>创建型</strong></h1><h2 id="单例模式singleton"><a class="markdownIt-Anchor" href="#单例模式singleton"></a> <strong>单例模式（Singleton）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F2.png" alt=""></p><blockquote><p>保证一个类仅有一个实例，并提供一个访问它的全局访问点。<br>有个人自己开了一家餐厅，这家餐厅只有一个老板。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// InputMethodManager 用于控制显示或隐藏输入法面板</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InputMethodManager</span> &#123;<br>    <span class="hljs-keyword">static</span> InputMethodManager sInstance;<br>    <br>    InputMethodManager(IInputMethodManager service, Looper looper) &#123;<br>        mService = service;<br>        mMainLooper = looper;<br>        mH = <span class="hljs-keyword">new</span> <span class="hljs-title class_">H</span>(looper);<br>        mIInputContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ControlledInputConnectionWrapper</span>(looper, mDummyInputConnection, <span class="hljs-built_in">this</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> InputMethodManager <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">synchronized</span> (InputMethodManager.class) &#123;<br>            <span class="hljs-keyword">if</span> (sInstance == <span class="hljs-literal">null</span>) &#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    sInstance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputMethodManager</span>(Looper.getMainLooper());<br>                &#125; <span class="hljs-keyword">catch</span> (ServiceNotFoundException e) &#123;<br>                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(e);<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">return</span> sInstance;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="饿汉式"><a class="markdownIt-Anchor" href="#饿汉式"></a> <strong>饿汉式</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingleTon</span>&#123;<br>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">SingleTon</span> <span class="hljs-variable">mSingleTon</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SingleTon</span>();<br>	<br>	<span class="hljs-keyword">private</span> <span class="hljs-title function_">SingleTon</span><span class="hljs-params">()</span> &#123;&#125;<br>	<br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SingleTon <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">return</span> mSingleTon;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="懒汉式线程不安全"><a class="markdownIt-Anchor" href="#懒汉式线程不安全"></a> <strong>懒汉式(线程不安全)</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingleTon</span>&#123;<br>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">SingleTon</span> <span class="hljs-variable">mSingleTon</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>	<br>	<span class="hljs-keyword">private</span> <span class="hljs-title function_">SingleTon</span><span class="hljs-params">()</span> &#123;&#125;<br>	<br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SingleTon <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">if</span>(mSingleTon == <span class="hljs-literal">null</span>) &#123;<br>			mSingleTon = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SingleTon</span>();<br>		&#125;<br>		<span class="hljs-keyword">return</span> mSingleTon;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="懒汉式线程安全"><a class="markdownIt-Anchor" href="#懒汉式线程安全"></a> <strong>懒汉式(线程安全)</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingleTon</span>&#123;<br>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">SingleTon</span> <span class="hljs-variable">mSingleTon</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>	<br>	<span class="hljs-keyword">private</span> <span class="hljs-title function_">SingleTon</span><span class="hljs-params">()</span> &#123;&#125;<br>	<br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> SingleTon <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">if</span>(mSingleTon == <span class="hljs-literal">null</span>) &#123;<br>			mSingleTon = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SingleTon</span>();<br>		&#125;<br>		<span class="hljs-keyword">return</span> mSingleTon;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="懒汉式双重校验锁线程不一定安全"><a class="markdownIt-Anchor" href="#懒汉式双重校验锁线程不一定安全"></a> <strong>懒汉式(双重校验锁，线程不一定安全)</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingleTon</span>&#123;<br>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">SingleTon</span> <span class="hljs-variable">mSingleTon</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>	<br>	<span class="hljs-keyword">private</span> <span class="hljs-title function_">SingleTon</span><span class="hljs-params">()</span> &#123;&#125;<br>	<br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SingleTon <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">if</span>(mSingleTon == <span class="hljs-literal">null</span>)&#123;<br>			<span class="hljs-keyword">synchronized</span>(SingleTon.class) &#123;<br>				<span class="hljs-keyword">if</span>(mSingleTon == <span class="hljs-literal">null</span>) &#123;<br>					mSingleTon = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SingleTon</span>();<br>				&#125;<br>			&#125;<br>		&#125;<br>		<span class="hljs-keyword">return</span> mSingleTon;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="懒汉式双重校验锁线程安全"><a class="markdownIt-Anchor" href="#懒汉式双重校验锁线程安全"></a> <strong>懒汉式(双重校验锁，线程安全)</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingleTon</span>&#123;<br>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> <span class="hljs-type">SingleTon</span> <span class="hljs-variable">mSingleTon</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>	<br>	<span class="hljs-keyword">private</span> <span class="hljs-title function_">SingleTon</span><span class="hljs-params">()</span> &#123;&#125;<br>	<br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SingleTon <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">if</span>(mSingleTon == <span class="hljs-literal">null</span>)&#123;<br>			<span class="hljs-keyword">synchronized</span>(SingleTon.class) &#123;<br>				<span class="hljs-keyword">if</span>(mSingleTon == <span class="hljs-literal">null</span>) &#123;<br>					mSingleTon = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SingleTon</span>();<br>				&#125;<br>			&#125;<br>		&#125;<br>		<span class="hljs-keyword">return</span> mSingleTon;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="枚举"><a class="markdownIt-Anchor" href="#枚举"></a> <strong>枚举</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">SingleTon</span> &#123;<br>	SINGLE<br>&#125;<br><br>SingleTon.SINGLE<br></code></pre></td></tr></table></figure><h3 id="静态内部类"><a class="markdownIt-Anchor" href="#静态内部类"></a> <strong>静态内部类</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingleTon</span> &#123;<br>	<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InnerClass</span> &#123;<br>		<span class="hljs-keyword">static</span> <span class="hljs-type">SingleTon</span> <span class="hljs-variable">mSingleTon</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SingleTon</span>();<br>	&#125;<br>	<br>	<span class="hljs-keyword">private</span> <span class="hljs-title function_">SingleTon</span><span class="hljs-params">()</span> &#123;&#125;<br>	<br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SingleTon <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span> &#123;<br>		<span class="hljs-keyword">return</span> InnerClass.mSingleTon;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="建造者模式builder"><a class="markdownIt-Anchor" href="#建造者模式builder"></a> <strong>建造者模式（Builder）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F3.png" alt=""></p><blockquote><p>将一个复杂的对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。<br>老板打算在招聘网站上招人，一般就是填写完招人要求后，网站返回符合要求的人。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> class 招人 &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> 年龄;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> 性别;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> 技能;<br>    <br>    <span class="hljs-keyword">private</span> 招人(招人要求 要求) &#123;<br>        <span class="hljs-built_in">this</span>.年龄 = 要求.年龄;<br>        <span class="hljs-built_in">this</span>.性别 = 要求.性别;<br>        <span class="hljs-built_in">this</span>.技能 = 要求.技能;<br>    &#125;<br>        <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> get年龄() &#123;<br>        <span class="hljs-keyword">return</span> 年龄;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> get性别() &#123;<br>        <span class="hljs-keyword">return</span> 性别;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> get技能() &#123;<br>        <span class="hljs-keyword">return</span> 技能;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> class 招人要求 &#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> 年龄;<br>        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> 性别;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> 技能;<br>        <br>        <span class="hljs-keyword">public</span> 招人要求(<span class="hljs-type">int</span> 技能) &#123;<br>            <span class="hljs-built_in">this</span>.技能 = 技能;<br>        &#125;<br>        <br>        <span class="hljs-keyword">public</span> 招人要求 set年龄(<span class="hljs-type">int</span> 年龄) &#123;<br>            <span class="hljs-built_in">this</span>.年龄 = 年龄;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;<br>        &#125;<br>        <br>        <span class="hljs-keyword">public</span> 招人要求 set性别(<span class="hljs-type">int</span> 性别) &#123;<br>            <span class="hljs-built_in">this</span>.性别 = 性别;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;<br>        &#125;<br>        <br>        <span class="hljs-keyword">public</span> 招人 开始查找() &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> 招人(<span class="hljs-built_in">this</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        招人 服务员 = <span class="hljs-keyword">new</span> 招人.招人要求(辅助点餐)<br>            .set年龄(<span class="hljs-number">60</span>以下)<br>            .set性别(男女均可)<br>            .开始查找();<br>        招人 厨师 = <span class="hljs-keyword">new</span> 招人.招人要求(做菜)<br>            .set年龄(<span class="hljs-number">60</span>以下)<br>            .set性别(男女均可)<br>            .开始查找();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="工厂方法模式factorymethod"><a class="markdownIt-Anchor" href="#工厂方法模式factorymethod"></a> <strong>工厂方法模式（FactoryMethod）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F4.png" alt=""></p><blockquote><p>定义一个用于创建对象的接口，让子类决定实例化哪一个类。<br>老板可能从某联上招人，也可能从某勾上招人，某联使用的就是某联的数据库，某勾使用的是某勾的数据库。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 服务员 &#123;<br>    <span class="hljs-keyword">void</span> 辅助点餐();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 某联人才库中的服务员 implements 服务员 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 辅助点餐() &#123;<br>        System.out.println(<span class="hljs-string">&quot;某联人才库中的服务员辅助点餐!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 某勾人才库中的服务员 implements 服务员 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 辅助点餐() &#123;<br>        System.out.println(<span class="hljs-string">&quot;某勾人才库中的服务员辅助点餐!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> interface 厨师 &#123;<br>    <span class="hljs-keyword">void</span> 做菜();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 某联人才库中的厨师 implements 厨师 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 做菜() &#123;<br>        System.out.println(<span class="hljs-string">&quot;某联人才库中的厨师做菜!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 某勾人才库中的厨师 implements 厨师 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 做菜() &#123;<br>        System.out.println(<span class="hljs-string">&quot;某勾人才库中的厨师做菜!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> interface 招聘网站 &#123;<br>    List&lt;员工&gt; 招聘();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 某联招聘网站 implements 招聘网站 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;员工&gt; 招聘() &#123;<br>        List&lt;员工&gt; 员工们 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(<span class="hljs-number">2</span>);<br>        员工们.add(<span class="hljs-keyword">new</span> 某联人才库中的服务员());<br>        员工们.add(<span class="hljs-keyword">new</span> 某联人才库中的厨师());<br>        <span class="hljs-keyword">return</span> 员工们;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 某勾招聘网站 implements 招聘网站 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;员工&gt; 招聘() &#123;<br>        List&lt;员工&gt; 员工们 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(<span class="hljs-number">2</span>);<br>        员工们.add(<span class="hljs-keyword">new</span> 某勾人才库中的服务员());<br>        员工们.add(<span class="hljs-keyword">new</span> 某勾人才库中的厨师());<br>        <span class="hljs-keyword">return</span> 员工们;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">new</span> 某勾招聘网站().招聘();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="抽象工厂模式abstractfactory"><a class="markdownIt-Anchor" href="#抽象工厂模式abstractfactory"></a> <strong>抽象工厂模式（AbstractFactory）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F5.png" alt=""></p><blockquote><p>为创建一组相关或者是相互依赖的对象提供一个接口，而不需要指定他们的具体实现类。<br>招聘网站千千万找不过来，老板决定让猎头找。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> class 猎头招聘网站 implements 招聘网站 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;员工&gt; 招聘() &#123;<br>        List&lt;员工&gt; 员工们 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(<span class="hljs-number">2</span>);<br>        员工们.add(<span class="hljs-keyword">new</span> 某联人才库中的服务员());<br>        员工们.add(<span class="hljs-keyword">new</span> 某勾人才库中的厨师());<br>        <span class="hljs-keyword">return</span> 员工们;<br>    &#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">new</span> 猎头招聘网站().招聘();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="原型模式prototype"><a class="markdownIt-Anchor" href="#原型模式prototype"></a> <strong>原型模式（Prototype）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F6.png" alt=""></p><blockquote><p>创建对象的种类，并通过拷贝这些原型创建新的对象。<br>餐厅经营得不错，一段时间后，老板开了一家分店，又招了一批服务员和厨师，但是老板还是一个。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> class 餐厅 <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Cloneable</span> &#123;<br>    <span class="hljs-keyword">private</span> 老板 唯一的老板;<br>    <span class="hljs-keyword">private</span> List&lt;服务员&gt; 服务员们;<br>    <span class="hljs-keyword">private</span> List&lt;厨师&gt; 厨师们;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> set老板(老板 唯一的老板) &#123;<br>        <span class="hljs-built_in">this</span>.唯一的老板 = 唯一的老板;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> 老板 get老板() &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.唯一的老板;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> 餐厅 clone() <span class="hljs-keyword">throws</span> CloneNotSupportedException &#123;<br>        餐厅 分店 = (餐厅)<span class="hljs-built_in">super</span>.clone();<br>        分店.set老板(唯一的老板);<br>        <span class="hljs-keyword">return</span> 分店;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> String 花名册() &#123;<br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>        builder.append(<span class="hljs-string">&quot;老板:&quot;</span> + 唯一的老板)<br>            .append(<span class="hljs-string">&quot;服务员们:&quot;</span> + 服务员们)<br>            .append(<span class="hljs-string">&quot;厨师们:&quot;</span> + 厨师们);<br>        <span class="hljs-keyword">return</span> builder.toString();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        总店.clone().员工花名册();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h1 id="结构型"><a class="markdownIt-Anchor" href="#结构型"></a> <strong>结构型</strong></h1><h2 id="适配器模式adapter"><a class="markdownIt-Anchor" href="#适配器模式adapter"></a> <strong>适配器模式（Adapter）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F7.png" alt=""></p><blockquote><p>将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作。<br>老板在某聘上招人，因为某聘和某联合作，所以某聘直接使用某联的人才库。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> class 某聘招聘网站 implements 招聘网站 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> List&lt;员工&gt; 招聘() &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> 某联招聘网站().招聘();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String args[])</span> &#123;<br>        <span class="hljs-keyword">new</span> 某聘招聘网站().招聘();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="装饰模式decorator"><a class="markdownIt-Anchor" href="#装饰模式decorator"></a> <strong>装饰模式（Decorator）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F8.png" alt=""></p><blockquote><p>在不必改变原类文件和使用继承的情况下，动态地扩展一个对象的功能。<br>当服务员请假时，厨师可以兼任服务员的工作。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 厨师 &#123;<br>    <span class="hljs-keyword">void</span> 做菜();<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> class 可以兼任工作的厨师 implements 厨师 &#123;<br>    <span class="hljs-keyword">private</span> 厨师 某个厨师;<br>    <br>    <span class="hljs-keyword">public</span> 可以兼任工作的厨师(厨师 某个厨师) &#123;<br>        <span class="hljs-built_in">this</span>.某个厨师 = 某个厨师;<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 做菜() &#123;<br>        某个厨师.做菜();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> 额外工作();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 可以兼任服务员的厨师 extends 可以兼任工作的厨师 &#123;<br>    <span class="hljs-keyword">public</span> 可以兼任服务员的厨师(厨师 某个厨师) &#123;<br>        <span class="hljs-built_in">super</span>(某个厨师);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 额外工作() &#123;<br>        System.out.println(<span class="hljs-string">&quot;兼任服务员辅助点餐!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String args[])</span> &#123;<br>        可以兼任工作的厨师 厨师 = <span class="hljs-keyword">new</span> 可以兼任服务员的厨师(<span class="hljs-keyword">new</span> 某联人才库中的厨师());<br>        厨师.做菜();<br>        厨师.额外工作();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="代理模式proxy"><a class="markdownIt-Anchor" href="#代理模式proxy"></a> <strong>代理模式（Proxy）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F9.png" alt=""></p><blockquote><p>调用原有的方法，且对产生的结果进行控制。<br>由于洗菜工还未入职，所以厨师做菜前，需要先洗菜。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 厨师 &#123;<br>    <span class="hljs-keyword">void</span> 做菜();<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> class 需要承担额外工作的厨师 implements 厨师 &#123;<br>    <span class="hljs-keyword">private</span> 厨师 某个厨师;<br>    <br>    <span class="hljs-keyword">public</span> 需要承担额外工作的厨师(厨师 某个厨师) &#123;<br>        <span class="hljs-built_in">this</span>.某个厨师 = 某个厨师;<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 做菜() &#123;<br>        额外工作();<br>        某个厨师.做菜();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> 额外工作();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 需要洗菜的厨师 extends 需要承担额外工作的厨师 &#123;<br>    <span class="hljs-keyword">public</span> 需要洗菜的厨师(厨师 某个厨师) &#123;<br>        <span class="hljs-built_in">super</span>(某个厨师);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 额外工作() &#123;<br>        System.out.println(<span class="hljs-string">&quot;厨师洗菜!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String args[])</span> &#123;<br>        <span class="hljs-keyword">new</span> 需要洗菜的厨师(<span class="hljs-keyword">new</span> 某联人才库中的厨师()).做菜();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="组合模式composite"><a class="markdownIt-Anchor" href="#组合模式composite"></a> <strong>组合模式（Composite）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F10.png" alt=""></p><blockquote><p>将对象组合成树形结构以表示“部分-整体”的层次结构。<br>建立管理层，且新店开业后归总店管理。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Component</span> &#123;<br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(Component component)</span>;<br>    <br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(Component component)</span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 客服部 <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Component</span> &#123;<br>    <span class="hljs-keyword">private</span> List&lt;Component&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(Component component)</span> &#123;<br>        list.add(component);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(Component component)</span> &#123;<br>        list.remove(component);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 技术部 <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Component</span> &#123;<br>    <span class="hljs-keyword">private</span> List&lt;Component&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(Component component)</span> &#123;<br>        list.add(component);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(Component component)</span> &#123;<br>        list.remove(component);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 餐厅 <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Component</span> &#123;<br>    <span class="hljs-keyword">private</span> List&lt;Component&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(Component component)</span> &#123;<br>        list.add(component);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(Component component)</span> &#123;<br>        list.remove(component);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String args[])</span> &#123;<br>        餐厅 总店 = 总店.getInstance();<br>        总店.add(<span class="hljs-keyword">new</span> 客服部());<br>        总店.add(<span class="hljs-keyword">new</span> 技术部());<br>        <br>        餐厅 分店 = <span class="hljs-keyword">new</span> 餐厅();<br>        分店.add(<span class="hljs-keyword">new</span> 客服部());<br>        分店.add(<span class="hljs-keyword">new</span> 技术部());<br>        <br>        总店.add(分店);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="桥接模式bridge"><a class="markdownIt-Anchor" href="#桥接模式bridge"></a> <strong>桥接模式（Bridge）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F11.png" alt=""></p><blockquote><p>把事物和其具体实现分开，使他们可以各自独立的变化。<br>老板想开发点餐软件，分为服务端和客户端，分别交给总店和分店的技术部实现。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 点餐软件 &#123;<br>    <span class="hljs-keyword">void</span> 开发软件();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 服务端软件 implements 点餐软件 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 开发软件() &#123;<br>        System.out.println(<span class="hljs-string">&quot;开发服务端软件！&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 客户端软件 implements 点餐软件 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 开发软件() &#123;<br>        System.out.println(<span class="hljs-string">&quot;开发客户端软件！&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> class 点餐软件专项组 &#123;<br>    <span class="hljs-keyword">private</span> 点餐软件 软件;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> set软件(点餐软件 软件) &#123;<br>        <span class="hljs-built_in">this</span>.软件 = 软件;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> get软件() &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.一个软件;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> 开始开发();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 总店的技术部 extends 点餐软件专项组 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 开始开发() &#123;<br>        System.out.println(<span class="hljs-string">&quot;总店开始安排人手！&quot;</span>);<br>        get软件().开发软件();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 分店的技术部 extends 点餐软件专项组 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 开始开发() &#123;<br>        System.out.println(<span class="hljs-string">&quot;分店开始安排人手！&quot;</span>);<br>        get软件().开发软件();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        点餐软件专项组 总店的专项组 = <span class="hljs-keyword">new</span> 总店的技术部();<br>        总店的专项组.set软件(<span class="hljs-keyword">new</span> 服务端软件());<br>        总店的专项组.开始开发();<br>        <br>        点餐软件专项组 分店的专项组 = <span class="hljs-keyword">new</span> 分店的技术部();<br>        分店的专项组.set软件(<span class="hljs-keyword">new</span> 客户端软件());<br>        分店的专项组.开始开发();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="外观模式facade"><a class="markdownIt-Anchor" href="#外观模式facade"></a> <strong>外观模式（Facade）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F12.png" alt=""></p><blockquote><p>避免几个类之间相互持有实例，将这几个类的实例放到同一个类中。<br>餐厅来了一个大客户，老板让一个大客户经理招待客户。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> class 司机 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 开车() &#123;<br>        System.out.println(<span class="hljs-string">&quot;司机开车！&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 厨师 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 做饭() &#123;<br>        System.out.println(<span class="hljs-string">&quot;厨师做饭！&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 技师 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 搓澡() &#123;<br>        System.out.println(<span class="hljs-string">&quot;技师搓澡！&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 大客户经理 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 招待客户() &#123;<br>        <span class="hljs-keyword">new</span> 司机().开车();<br>        <span class="hljs-keyword">new</span> 厨师().做饭();<br>        <span class="hljs-keyword">new</span> 技师().搓澡();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">new</span> 大客户经理().招待客户();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="享元模式flyweight"><a class="markdownIt-Anchor" href="#享元模式flyweight"></a> <strong>享元模式（Flyweight）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F13.png" alt=""></p><blockquote><p>将大量的小的重复使用的对象统一管理起来，避免用户多次创建重复对象造成的资源浪费。<br>大客户又来了，老板会优先安排上次的大客户经理，但是如果上次的大客户经理正忙，就会重新安排大客户经理招待客户。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> class 客服部 &#123;<br>    <span class="hljs-keyword">private</span> Map&lt;String, 大客户经理&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <br>    <span class="hljs-keyword">public</span> 大客户经理 get大客户经理(String 大客户ID) &#123;<br>        大客户经理 指定大客户经理 = map.get(大客户ID);<br>        <span class="hljs-keyword">if</span>(指定大客户经理不存在 || 指定大客户经理正忙) &#123;<br>            指定大客户经理 = 重新安排大客户经理();<br>        &#125;<br>        <span class="hljs-keyword">return</span> 指定大客户经理;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">new</span> 客服部().get大客户经理(大客户ID).招待客户();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h1 id="行为型"><a class="markdownIt-Anchor" href="#行为型"></a> <strong>行为型</strong></h1><h2 id="观察者模式observer"><a class="markdownIt-Anchor" href="#观察者模式observer"></a> <strong>观察者模式（Observer）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F14.png" alt=""></p><blockquote><p>当一个对象变化时，其它依赖该对象的对象都会收到通知，并且随着变化。<br>老板进行面试，面试结束后通知参与面试的人面试结果。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 面试者 &#123;<br>    <span class="hljs-keyword">void</span> 参加面试();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 校招人员 implements 面试者 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 参加面试() &#123;<br>        System.out.println(<span class="hljs-string">&quot;校招人员参加面试&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 社招人员 implements 面试者 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 参加面试() &#123;<br>        System.out.println(<span class="hljs-string">&quot;社招人员参加面试&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> interface 面试官 &#123;<br>    <span class="hljs-keyword">void</span> add面试者(面试者 一个面试者);<br>    <br>    <span class="hljs-keyword">void</span> notify面试者(面试者 一个面试者);<br>&#125;<br><br><span class="hljs-keyword">public</span> class 技术部面试官 Implememnts 面试官 &#123;<br>    <span class="hljs-keyword">private</span> List&lt;面试者&gt; 所有面试者 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> add面试者(面试者 一个面试者) &#123;<br>        所有面试官.add(一个面试官);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> notify面试者(面试者 确定录用者) &#123;<br>        <span class="hljs-keyword">for</span>(面试者 一个面试者 : 所有面试者) &#123;<br>            <span class="hljs-keyword">if</span>(一个面试者.equals(确定录用者)) &#123;<br>                System.out.println(<span class="hljs-string">&quot;发Offer&quot;</span>);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;发未通过面试通知&quot;</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        面试官 一个面试官 = <span class="hljs-keyword">new</span> 技术部面试官();<br>        <br>        面试者 一个面试者 = <span class="hljs-keyword">new</span> 校招人员();<br>        一个面试官.add(一个面试者);<br>        一个面试官.add(<span class="hljs-keyword">new</span> 校招人员());<br>        一个面试官.add(<span class="hljs-keyword">new</span> 校招人员());<br>        一个面试官.add(<span class="hljs-keyword">new</span> 社招人员());<br>        <br>        一个面试官.notify面试者(一个面试者);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="访问者模式visitor"><a class="markdownIt-Anchor" href="#访问者模式visitor"></a> <strong>访问者模式（Visitor）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F15.png" alt=""></p><blockquote><p>封装一些作用于某种数据结构中的各元素的操作，它可以在不改变这个数据结构的前提下定义作用于这些元素的新的操作。<br>客人排队就餐，叫到号后可以进店就餐。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 吃饭的地 &#123;<br>    <span class="hljs-keyword">void</span> 有空位需带人(排队的人 客户);<br>    <br>    <span class="hljs-keyword">void</span> 服务员安排就餐位置(排队的人 客户);<br>    <br>    <span class="hljs-keyword">void</span> 制作食物(排队的人 客户);<br>&#125;<br><br><span class="hljs-keyword">public</span> class 餐厅 implememnts 吃饭的地 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 有空位需带人(排队的人 客户) &#123;<br>        客户.展示排队的号(<span class="hljs-built_in">this</span>);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 服务员安排就餐位置(排队的人 客户) &#123;<br>        客户.点餐(<span class="hljs-built_in">this</span>);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 制作食物(排队的人 客户) &#123;<br>        System.out.println(<span class="hljs-string">&quot;餐厅开始制作食物了&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> interface 排队的人 &#123;<br>    <span class="hljs-keyword">void</span> 展示排队的号(吃饭的地 餐厅);<br>    <br>    <span class="hljs-keyword">void</span> 点餐(吃饭的地 餐厅);<br>&#125;<br><br><span class="hljs-keyword">public</span> class 客户 implememnts 排队的人 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> 号码;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> 展示排队的号(吃饭的地 餐厅) &#123;<br>        餐厅.服务员安排就餐位置(<span class="hljs-built_in">this</span>);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> 点餐(吃饭的地 餐厅) &#123;<br>        餐厅.制作食物(<span class="hljs-built_in">this</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 服务员 &#123;<br>    <span class="hljs-keyword">private</span> List&lt;排队的人&gt; 列表 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <br>    <span class="hljs-keyword">private</span> 吃饭的地 餐厅;<br>    <br>    <span class="hljs-keyword">public</span> 服务员(吃饭的地 餐厅) &#123;<br>        <span class="hljs-built_in">this</span>.餐厅 = 餐厅;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> add客户(排队的人 客户) &#123;<br>        列表.add客户(客户);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 开始叫号() &#123;<br>        <span class="hljs-keyword">for</span>(排队的人 客户 : 列表) &#123;<br>            餐厅.有空位需带人(客户);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        服务员 一个服务员 = <span class="hljs-keyword">new</span> 服务员(<span class="hljs-keyword">new</span> 餐厅());<br>        一个服务员.添加排队的人(<span class="hljs-keyword">new</span> 客户());<br>        一个服务员.添加排队的人(<span class="hljs-keyword">new</span> 客户());<br>        一个服务员.添加排队的人(<span class="hljs-keyword">new</span> 客户());<br>        <br>        一个服务员.开始叫号();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="迭代器模式iterator"><a class="markdownIt-Anchor" href="#迭代器模式iterator"></a> <strong>迭代器模式（Iterator）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F16.png" alt=""></p><blockquote><p>老板助理按照员工花名册依次叫员工去老板办公室领工资。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 辅助老板发工资的人 &#123;<br>    <span class="hljs-keyword">void</span> 看还有没有人没领工资();<br>    <br>    <span class="hljs-keyword">void</span> 叫员工去领工资();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 老板助理 implements 辅助老板发工资的人 &#123;<br>    <span class="hljs-keyword">private</span> List&lt;String&gt; 员工花名册 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> 当前叫过的人的数量 = <span class="hljs-number">0</span>;<br>    <br>    <span class="hljs-keyword">public</span> 老板助理(花名册 员工花名册) &#123;<br>        <span class="hljs-built_in">this</span>.员工花名册 = 员工花名册;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 看还有没有人没领工资() &#123;<br>        <span class="hljs-keyword">return</span> 当前叫过的人的数量 &lt; 员工花名册上的人数;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 叫员工去领工资() &#123;<br>        System.out.println(<span class="hljs-string">&quot;叫员工去领工资!&quot;</span>);<br>        当前叫过的人的数量++;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        辅助老板发工资的人 老板助理 = <span class="hljs-keyword">new</span> 老板助理(员工花名册);<br>        <span class="hljs-keyword">while</span>(老板助理.看还有没有人没领工资()) &#123;<br>            老板助理.叫员工去领工资();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="模板方法模式templatemethod"><a class="markdownIt-Anchor" href="#模板方法模式templatemethod"></a> <strong>模板方法模式（TemplateMethod）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F17.png" alt=""></p><blockquote><p>开发软件前先确定架构。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> class 项目 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 开始开发() &#123;<br>        确定架构();<br>        System.out.println(<span class="hljs-string">&quot;开始开发&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> 确定架构();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 点餐软件 extends 项目 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 确定架构() &#123;<br>        System.out.println(<span class="hljs-string">&quot;确定架构&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">new</span> 点餐软件().开始开发();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="中介者模式mediator"><a class="markdownIt-Anchor" href="#中介者模式mediator"></a> <strong>中介者模式（Mediator）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F18.png" alt=""></p><blockquote><p>餐厅上线了外卖业务，订餐人向餐厅要一杯咖啡，餐厅委托骑手送咖啡。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 平台 &#123;<br>    <span class="hljs-keyword">void</span> 转发消息();<br>    <br>    <span class="hljs-keyword">void</span> set送餐者();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 外卖业务 implements 平台 &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> 客户端 订餐者;<br>    <span class="hljs-keyword">private</span> 客户端 送餐者;<br><br>    <span class="hljs-keyword">public</span> 订单(客户端 订餐者) &#123;<br>        <span class="hljs-built_in">this</span>.订餐者 = 订餐者;<br>        订餐者.set订单(<span class="hljs-built_in">this</span>);<br>    &#125;<br>    <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> set送餐者(客户端 送餐者) &#123;<br>        <span class="hljs-built_in">this</span>.送餐者 = 送餐者;<br>        送餐者.set订单(<span class="hljs-built_in">this</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 转发消息(String 消息, 客户端 用户) &#123;<br>        <span class="hljs-keyword">if</span>(订餐者.equals(用户)) &#123;<br>            送餐者.接收消息(消息);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            订餐者.接收消息(消息);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 客户端 &#123;<br>    <span class="hljs-keyword">private</span> 平台 外卖平台;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> set平台(平台 外卖平台) &#123;<br>        <span class="hljs-built_in">this</span>.外卖平台 = 外卖平台;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 发送消息(String 消息) &#123;<br>        外卖平台.转发消息(消息, <span class="hljs-built_in">this</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 接收消息(String 消息) &#123;<br>        System.out.println(<span class="hljs-string">&quot;接收消息:&quot;</span> + 消息);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        客户端 订餐者 = <span class="hljs-keyword">new</span> 客户端();<br>        客户端 送餐者 = <span class="hljs-keyword">new</span> 客户端();<br><br>        平台 外卖平台 = <span class="hljs-keyword">new</span> 外卖业务(订餐者);<br>        外卖平台.set送餐者(送餐者);<br>        <br>        订餐者.发送消息(<span class="hljs-string">&quot;我要一杯咖啡&quot;</span>);<br>        送餐者.发送消息(<span class="hljs-string">&quot;已取，马上为您送到&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="备忘录模式memento"><a class="markdownIt-Anchor" href="#备忘录模式memento"></a> <strong>备忘录模式（Memento）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F19.png" alt=""></p><blockquote><p>主要目的是保存一个对象的某个状态，以便在适当的时候恢复对象。<br>老板规定分店每月保留10万用于平时开销，盈利部分划归总店，亏损部分总店补齐。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> class 餐厅 &#123;<br>    <span class="hljs-keyword">private</span> 账上资金 资金;<br>    <br>    <span class="hljs-keyword">private</span> 分店每月分配额度 额度;<br>    <br>    <span class="hljs-keyword">public</span> 餐厅(<span class="hljs-type">long</span> 初始金额) &#123;<br>        账上资金 = <span class="hljs-keyword">new</span> 账上资金(初始金额);<br>        额度 = <span class="hljs-keyword">new</span> 分店每月分配额度(账上资金);<br>    &#125;<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> 买菜(<span class="hljs-type">long</span> 金额) &#123;<br>        资金 -= 金额;<br>    &#125;<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> 卖菜(<span class="hljs-type">long</span> 金额) &#123;<br>        资金 += 金额;<br>    &#125;<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> 月末结算() &#123;<br>        System.out.println(<span class="hljs-string">&quot;当月收支：&quot;</span> + (资金.get资金() - 额度.get额度()));<br>        账上资金 = 额度.get额度();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> get资金() &#123;<br>        <span class="hljs-keyword">return</span> 资金.get资金();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 账上资金 &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> 资金;<br>    <br>    <span class="hljs-keyword">public</span> 账上资金(<span class="hljs-type">long</span> 资金) &#123;<br>        <span class="hljs-built_in">this</span>.资金 = 资金;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 花钱(<span class="hljs-type">long</span> 金额) &#123;<br>        <span class="hljs-built_in">this</span>.资金 -= 金额;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 赚钱(<span class="hljs-type">long</span> 金额) &#123;<br>        <span class="hljs-built_in">this</span>.资金 += 金额;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> get资金() &#123;<br>        <span class="hljs-keyword">return</span> 资金;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 分店每月分配额度 &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> 额度;<br>    <br>    <span class="hljs-keyword">public</span> 分店每月分配额度(账上资金 资金) &#123;<br>        <span class="hljs-built_in">this</span>.额度 = 资金.get资金();<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> get额度() &#123;<br>        <span class="hljs-keyword">return</span> 额度;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        餐厅 分店 = <span class="hljs-keyword">new</span> 餐厅(<span class="hljs-number">100000</span>);<br>        <br>        分店.买菜(<span class="hljs-number">1000</span>);<br>        分店.卖菜(<span class="hljs-number">1500</span>);<br>        分店.get资金();<br>        <br>        分店.月末结算();<br>        分店.get资金();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="状态模式state"><a class="markdownIt-Anchor" href="#状态模式state"></a> <strong>状态模式（State）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F20.png" alt=""></p><blockquote><p>可以通过改变状态来获得不同的行为。<br>建立员工审批制度，员工先向直属上级发起审批请求，待审批通过后，再向店长发起审批请求。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 审批 &#123;<br>    <span class="hljs-keyword">void</span> 决定是否通过审批(审批表 一个审批表);<br>&#125;<br><br><span class="hljs-keyword">public</span> class 审批表 &#123;<br>    <span class="hljs-keyword">private</span> 审批 审批流程 = <span class="hljs-keyword">new</span> 部门经理审批();<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 走审批流程() &#123;<br>        审批流程.决定是否通过审批(<span class="hljs-built_in">this</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 转到上级审批(审批 上级审批) &#123;<br>        审批流程 = 上级审批;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> 审批 get审批() &#123;<br>        <span class="hljs-keyword">return</span> 审批流程;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 部门经理审批 implements 审批 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 决定是否通过审批(审批表 一个审批表) &#123;<br>        System.out.println(<span class="hljs-string">&quot;部门经理通过审批&quot;</span>);<br>        一个审批表.转到上级审批(<span class="hljs-keyword">new</span> 店长审批());<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 店长审批 implements 审批 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 决定是否通过审批(审批表 一个审批表) &#123;<br>        System.out.println(<span class="hljs-string">&quot;店长通过审批&quot;</span>);<br>        一个审批表.转到上级审批(<span class="hljs-literal">null</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        审批表 一个审批表 = <span class="hljs-keyword">new</span> 审批表();<br>        <span class="hljs-keyword">while</span>(一个审批表.get审批() != <span class="hljs-literal">null</span>) &#123;<br>            一个审批表.走审批流程();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="策略模式strategy"><a class="markdownIt-Anchor" href="#策略模式strategy"></a> <strong>策略模式（Strategy）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F21.png" alt=""></p><blockquote><p>定义一系列算法，并将每个算法封装起来，使他们可以相互替换，且算法的变化不会影响到使用算法的客户。<br>新店开业大酬宾，店长推出各种优惠活动：满200减50、老客户全单打9折、新客户全单打8折，优惠不能同时享。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 优惠活动 &#123;<br>    <span class="hljs-type">float</span> get帐单金额();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 账单 &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> 原价;<br><br>    <span class="hljs-keyword">private</span> 优惠活动 一个优惠活动;<br>    <br>    <span class="hljs-keyword">private</span> 账单(<span class="hljs-type">float</span> 原价) &#123;<br>        <span class="hljs-built_in">this</span>.原价 = 原价;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> set优惠活动(优惠活动 一个优惠活动) &#123;<br>        <span class="hljs-built_in">this</span>.一个优惠活动 = 一个优惠活动;<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">float</span> get帐单金额() &#123;<br>        <span class="hljs-keyword">if</span>(一个优惠活动 == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> 原价;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> 一个优惠活动.get帐单金额();<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span>  class 满<span class="hljs-number">200</span>减<span class="hljs-number">50</span> implements 优惠活动 &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> 原价;<br><br>    <span class="hljs-keyword">public</span> 满<span class="hljs-number">200</span>减<span class="hljs-number">50</span>(<span class="hljs-type">float</span> 原价) &#123;<br>        <span class="hljs-built_in">this</span>.原价 = 原价;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">float</span> get帐单金额() &#123;<br>        <span class="hljs-keyword">return</span> 原价 &gt;= <span class="hljs-number">200</span> ? 原价 - <span class="hljs-number">50</span> : 原价;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span>  class 老客户全单打<span class="hljs-number">9</span>折 implements 优惠活动 &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> 原价;<br><br>    <span class="hljs-keyword">public</span> 老客户全单打<span class="hljs-number">9</span>折(<span class="hljs-type">float</span> 原价) &#123;<br>        <span class="hljs-built_in">this</span>.原价 = 原价;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">float</span> get帐单金额() &#123;<br>        <span class="hljs-keyword">return</span> 原价 * <span class="hljs-number">0.9f</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span>  class 新客户全单打<span class="hljs-number">8</span>折 implements 优惠活动 &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> 原价;<br><br>    <span class="hljs-keyword">public</span> 新客户全单打<span class="hljs-number">8</span>折(<span class="hljs-type">float</span> 原价) &#123;<br>        <span class="hljs-built_in">this</span>.原价 = 原价;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">float</span> get帐单金额() &#123;<br>        <span class="hljs-keyword">return</span> 原价 * <span class="hljs-number">0.8f</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        账单 一个账单 = <span class="hljs-keyword">new</span> 账单(<span class="hljs-number">100</span>);<br>        <span class="hljs-type">float</span> 不参加优惠活动的金额 = 一个账单.get帐单金额();<br>        <span class="hljs-type">float</span> 参加满<span class="hljs-number">200</span>减<span class="hljs-number">50</span>的金额 = 一个账单.get帐单金额(一个账单.set优惠活动(<span class="hljs-keyword">new</span> 满<span class="hljs-number">200</span>减<span class="hljs-number">50</span>(<span class="hljs-number">100</span>)));<br>        <span class="hljs-type">float</span> 参加老客户全单打<span class="hljs-number">9</span>折的金额 = 一个账单.get帐单金额(一个账单.set优惠活动(<span class="hljs-keyword">new</span> 老客户全单打<span class="hljs-number">9</span>折(<span class="hljs-number">100</span>)));<br>        <span class="hljs-type">float</span> 参加新客户全单打<span class="hljs-number">8</span>折的金额 = 一个账单.get帐单金额(一个账单.set优惠活动(<span class="hljs-keyword">new</span> 新客户全单打<span class="hljs-number">8</span>折(<span class="hljs-number">100</span>)));<br>        <span class="hljs-type">float</span> 最优惠金额 = sort(不参加优惠活动的金额, 参加老客户全单打<span class="hljs-number">9</span>折的金额, 参加老客户全单打<span class="hljs-number">9</span>折的金额, 参加新客户全单打<span class="hljs-number">8</span>折的金额);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="职责链模式chainofresponsibility"><a class="markdownIt-Anchor" href="#职责链模式chainofresponsibility"></a> <strong>职责链模式（ChainOfResponsibility）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F22.png" alt=""></p><blockquote><p>将接受请求的对象连成一条线链并且沿着这条链传递请求，直到有一个对象能够处理它为止。<br>有记者来采访，找到了保安，保安知道自己不能接受采访，把记者带给保安队长，保安队长也知道自己不能接受采访，把记者带给店长。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> class 餐厅职员 &#123;<br>	<span class="hljs-keyword">protected</span> 餐厅职员 上级管理者;<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> set上级管理者(餐厅职员 一个餐厅职员) &#123;<br>		<span class="hljs-built_in">this</span>.上级管理者 = 一个管理者;<br>	&#125;<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> get上级管理者() &#123;<br>	    <span class="hljs-keyword">return</span> 上级管理者;<br>	&#125;<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> 接受采访();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 保安 extends 餐厅职员 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 接受采访() &#123;<br>        <span class="hljs-keyword">if</span> (保安有接受采访权限) &#123;<br>            System.out.println(<span class="hljs-string">&quot;保安接受采访！&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (有上级管理者) &#123;<br>            get上级管理者().接受采访();<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 保安队长 extends 餐厅职员 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 接受采访() &#123;<br>        <span class="hljs-keyword">if</span> (保安队长有接受采访权限) &#123;<br>            System.out.println(<span class="hljs-string">&quot;保安队长接受采访！&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (有上级管理者) &#123;<br>            get上级管理者().接受采访();<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 店长 extends 餐厅职员 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 接受采访() &#123;<br>        System.out.println(<span class="hljs-string">&quot;店长接受采访！&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        餐厅职员 一个保安 = <span class="hljs-keyword">new</span> 保安();<br>        餐厅职员 一个保安队长 = <span class="hljs-keyword">new</span> 保安队长();<br>        餐厅职员 一个店长 = <span class="hljs-keyword">new</span> 店长();<br>        <br>        一个保安.set上级管理者(一个保安队长);<br>        一个保安队长.set上级管理者(一个店长);<br>        <br>        一个保安.接受采访();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="命令模式command"><a class="markdownIt-Anchor" href="#命令模式command"></a> <strong>命令模式（Command）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F23.png" alt=""></p><blockquote><p>命令模式的目的就是达到命令的发出者和执行者之间解耦，实现请求和执行分开。<strong>与责任链模式不同的是执行者是确定的，中途命令不能被处理，只能被传递。</strong><br>又有记者来了，保安想起来上次是店长接受的采访，所以就知道了只要有记者来采访，就直接找店长。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 预案 &#123;<br>    <span class="hljs-keyword">void</span> 有记者来访();<br>&#125;<br><br><span class="hljs-keyword">public</span> class 公关预案 implements 预案 &#123;<br>    <span class="hljs-keyword">private</span> 店长 一个店长;<br><br>    <span class="hljs-keyword">public</span> 公关部(店长 一个店长) &#123;<br>        <span class="hljs-built_in">this</span>.一个店长 = 一个店长;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 有记者来访() &#123;<br>        一个店长.接受采访();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 店长 &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 接受采访() &#123;<br>        System.out.println(<span class="hljs-string">&quot;店长接受采访!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 保安 &#123;<br>    <span class="hljs-keyword">private</span> 公关预案 一个公关预案;<br><br>    <span class="hljs-keyword">public</span> 保安(公关预案 一个公关预案) &#123;<br>        <span class="hljs-built_in">this</span>.一个公关预案 = 一个公关预案;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 发现记者来了() &#123;<br>        一个公关预案.有记者来访();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CommandTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        店长 一个店长 = <span class="hljs-keyword">new</span> 店长();<br>        公关预案 一个公关预案 = <span class="hljs-keyword">new</span> 公关预案(一个店长);<br>        保安 一个保安 = <span class="hljs-keyword">new</span> 保安(一个公关预案);<br>        一个保安.发现记者来了();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="解释器模式interpreter"><a class="markdownIt-Anchor" href="#解释器模式interpreter"></a> <strong>解释器模式（Interpreter）</strong></h2><p><img src="https://weichao-io-1257283924.cos.ap-beijing.myqcloud.com/qldownload/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F24.png" alt=""></p><blockquote><p>在系统中如果某一特定类型的问题在频繁的发生，此时我们就有必要将这些问题的实例表述为一个语言中句子，因此可以构建一个解释器，然后利用该解释器来解释这些句子来解决这些问题。<br>两个记者分别来自不同的报社，一个是经济报社的，一个是美食报社的，虽然店长接受采访时和他们说了相同的内容，但是两个记者分别从两个角度完成了采访后稿件。</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> interface 采访的人 &#123;<br>    <span class="hljs-keyword">void</span> 写采访后的稿件(采访的内容 一次采访的内容);<br>&#125;<br><br><span class="hljs-keyword">public</span> class 经济报社记者 implements 采访的人 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 写采访后的稿件(采访的内容 一次采访的内容) &#123;<br>        System.out.println(<span class="hljs-string">&quot;从经济角度写采访后的稿件!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> class 美食报社记者 implements 采访的人 &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> 写采访后的稿件(采访的内容 一次采访的内容) &#123;<br>        System.out.println(<span class="hljs-string">&quot;从美食角度写采访后的稿件!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>测试</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InterpreterTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">new</span> 美食报社记者().写采访后的稿件(店长接受采访时说的话);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><hr></div><hr><div><div class="post-metas my-3"></div><div class="license-box my-3"><div class="license-title"><div>设计模式</div><div>https://weichao.io/2cdd0c565e9c/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>魏超</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2020年3月3日</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2022年12月4日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i> </span></a><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - 非商业性使用"><i class="iconfont icon-nc"></i> </span></a><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - 相同方式共享"><i class="iconfont icon-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/44f2184e1eee/" title="数据结构"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">数据结构</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/920b5a7d23b4/" title="TensorFlow 张量排序"><span class="hidden-mobile">TensorFlow 张量排序</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><i class="iconfont icon-my-hexo"></i>&nbsp;<span>博客框架Hexo&nbsp;&nbsp;</span></a> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><i class="iconfont icon-my-theme"></i>&nbsp;<span>博客主题Fluid&nbsp;&nbsp;</span></a> <a href="https://weichao.io" target="_blank" rel="nofollow noopener"><i class="iconfont icon-my-copyright"></i>&nbsp;2022<span>魏超</span></a></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script defer src="/js/leancloud.js"></script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>